# java-chess

체스 미션 저장소

## 우아한테크코스 코드리뷰

- [온라인 코드 리뷰 과정](https://github.com/woowacourse/woowacourse-docs/blob/master/maincourse/README.md)

## 기능 요구사항

* 체스판 초기화
    * 기본 위치에 맞게 기물을 생성한다.
    * row는 1~8, column은 a~h로 표현한다.
    * 체스판에서 각 진영은 검은색(대문자)과 흰색(소문자) 편으로 구분한다.

* 기물이 가져야할 기능
    * 팀이 정해져야함(색깔 등)

* 기물의 종류
    * 폰(Pawn)
    * 비숍(Bishop)
    * 나이트(Knight)
    * 룩(Rook)
    * 퀸(Queen)
    * 킹(King)

## 명령 처리 기능 구현 목록(command)

- [x] 사용자로부터 명령을 입력 받는다.
  - [x] 잘못된 명령이 입력되면 에러 메시지를 출력하고 재입력 받는다.

## 게임 진행 기능 구현 목록(state)

- [x] 각 턴마다 기물을 움직일 수 있다.
    - [x] 첫 수는 화이트 턴이 둔다.
    - [x] 블랙 턴에 기물을 움직이면 화이트 턴이 된다.
    - [x] 화이트 턴에 기물을 움직이면 블랙 턴이 된다.
    - [x] 자기 턴에 상대방의 기물을 이동할 수 없다.

- State
    - Ready
        - Running
            - WhiteTurn
            - BlackTurn

## 기물 이동 기능 구현 목록

- [x] 이동할 위치로 갈 수 있는지를 확인한다.
    - [x] 기물의 이동 규칙을 지키는지 확인한다.
        - [x] PAWN
            - [x] 화이트는 rank가 높아지는 방향으로, 블랙은 rank가 낮아지는 방향으로 이동할 수 있다.
            - [x] 첫 움직임에 한칸 혹은 두칸 앞으로 갈 수 있다.
                - white -> 2 black -> 7 이면 처음이다.
            - [x] 첫 움직임이 아닌 경우 한 칸만 앞으로 갈 수 있다.
            - [x] 대각선 앞에 상대 기물이 있으면 이동하면서 잡을 수 있다.
            - [x] 뒤로 이동할 수 없다.
        - [x] KNIGHT
            - [x] 상하좌우 두칸 앞으로 이동 후 좌우의 위치로 이동한다.
        - [x] ROOK
            - [x] 상하좌우 직선으로 이동한다.
        - [x] BISHOP
            - [x] 대각선 방향으로 직선으로 이동한다.
        - [x] QUEEN
            - [x] 상하좌우 대각선 방향으로 직선으로 이동한다.
        - [x] KING
            - [x] 상하좌우 대각선으로 한 칸 이동한다.
    - [x] 이동할 위치에 아군 기물이 있으면 안된다.
        - [x] PAWN
        - [x] KNIGHT
        - [x] ROOK
        - [x] BISHOP
        - [x] QUEEN
        - [x] KING
- [x] 이동 경로에 다른 기물이 있는지 확인한다.
    - [x] PAWN
    - [x] ROOK
    - [x] BISHOP
    - [x] QUEEN

---

## 승패 기능 요구 사항 및 기능 구현 목록

* 현재 남아있는 말에 대한 점수를 계산한다.
  * queen은 9점
  * rook은 5점
  * bishop은 3점
  * knight는 2.5점
  * pawn 1점(같은 세로줄에 같은 색의 폰이 있는 경우 1점이 아닌 0.5점을 준다.)
  * king은 잡히는 순간 게임이 끝나므로 0점으로 계산한다

* status 명령어를 입력하면 점수를 출력한다. 어느 진영이 이기고 있는지 출력한다.
  * 한 번에 한 쪽의 점수만을 계산해야 한다.

* King이 잡혔을 때 게임을 종료해야 한다.

- [x] 흰 말의 점수를 계산한다.
- [x] 검은 말의 점수를 계산한다.
- [x] 현재 이기고 있는 진영을 계산한다.
- [x] King이 잡히면 게임을 종료한다.


## 웹 UI

* 홈 화면 ("/"): 체스판을 렌더링한다.
* 시작 버튼 클릭("/start"): 서버에서 보드를 초기화한 후 응답하면 화면에 렌더링한다.
* 기물 이동("/move"): post 요청으로 src와 dest를 전달한다. 서버에서 기물을 이동한 후 보드를 다시 응답한다.
    * 현재 턴에서 가능한 움직임이 아니면 오류를 응답한다.
    * 불가능한 움직임이면 오류를 응답한다.
    * 게임이 종료되면(킹이 잡히면) 적절한 응답을 반환한다.
* 점수출력("/status"): 현재까지 진행 상황을 응답한다.
